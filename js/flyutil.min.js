define(function(){var n={browerKernel:function(){for(var i,t=["webkit","moz","o","ms"],n=0;n<t.length;n++)typeof document[t[n]+"Hidden"]!="undefined"&&(i=t[n]);return i},pageChange:function(n,t){var i=this.browerKernel();document.addEventListener&&document.addEventListener(i+"visibilitychange",function(){document[i+"VisibilityState"]==="visible"?n.call(document):document[i+"VisibilityState"]==="hidden"&&t.call(document)})},loadImgByCanvas:function(n,t,i,r,u,f,e,o,s){var c=new Image,h=t.getContext&&t.getContext("2d"),l;h&&(l=h.measureText("图片加载中,请稍等...").width,h.fillText("图片加载中,请稍等...",(t.width-l)/2,t.height/2));c.onload=function(){if(u=u||1,f=f||1,t.width=e||this.width*u,t.height=o||this.height*f,t.getContext)h.clearRect(0,0,t.width,t.height),h.drawImage(this,i,r,t.width,t.height);else{var c=document.createElement("img");c.src=n;c.id=t.id;c.width=e||this.width*u;c.height=o||this.height*f;document.body.appendChild(c);t.parentNode.replaceChild(c,t)}return s&&s(),n};c.onerror=function(){};c.src=n},loadImgByLocalStorage:function(n,t){var e=new Image,u=document.createElement("canvas"),i=null,f,r;u.getContext&&(i=u.getContext("2d"));f="";r="";e.onload=function(){if(i&&(i.canvas.width=this.width,i.canvas.height=this.height,i.drawImage(this,0,0,i.canvas.width,i.canvas.height),f=u.toDataURL()),window.localStorage)try{localStorage.getItem(n)||localStorage.setItem(n,f);r=localStorage.getItem(n)?localStorage.getItem(n):n}catch(e){r=n}else r=n;t&&t(r)};e.src=n},setCss3:function(n,t){var r,i,u;for(r in t)i=r,i.indexOf("-")>0&&(u=i.indexOf("-"),i=i.replace(i.substr(u,2),i.substr(u+1,1).toUpperCase())),n.style[i]=t[r],i=i.replace(i.charAt(0),i.charAt(0).toUpperCase()),n.style["webkit"+i]=t[r],n.style["moz"+i]=t[r],n.style["ms"+i]=t[r],n.style["o"+i]=t[r];return n},isSupportTransition:function(){var n=document.createElement("div");return n.style.webkitTransition!==undefined||n.style.transition!==undefined||n.style.oTransition!==undefined||n.style.mozTransition!==undefined},isSupportTransform:function(){var n=document.createElement("div");return n.style.webkitTransform!==undefined||n.style.transform!==undefined||n.style.msTransform!==undefined||n.style.oTransform!==undefined||n.style.mozTransform!==undefined},requestAnimFrame:function(){for(var i=0,t=["webkit","moz","ms"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestNextAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelNextAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestNextAnimationFrame||(window.requestNextAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16.7-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelNextAnimationFrame||(window.cancelNextAnimationFrame=function(n){clearTimeout(n)})}(),ltLoading:function(n,t,i){function w(){if(s!==e){var t=new Image;t.onload=function(){c++;s<e-1&&(s++,w())};t.onerror=function(){c++;s<e-1&&(s++,w())};t.src=n[s]}}function k(){a+=8;a>0&&(a=b);l.clearRect(0,0,f.width,f.height);e>0&&(l.drawImage(v,a,20-36*(c/e)),c/e>=1?(window.cancelNextAnimationFrame(p),t&&t()):p=window.requestNextAnimationFrame(k));o.innerHTML=parseInt(c/e*100)+"%";l.drawImage(y,0,0)}var u,f,o,h,tt;if(n.length<=0){t();return}var d=i&&i.id?i.id:"linten_loading",g=i&&i.color?i.color:"rgba(149,30,35,1)",nt=i&&i.src?i.src:"images/lt_loading.png",it=i&&i.isPicLogo===!1?i.isPicLogo:!0,r=document.createElement("canvas");if(r.getContext){r.width=500;r.height=200;u=r.getContext("2d");u.beginPath();if(u.moveTo(0,15),u.bezierCurveTo(183,34,225,-2,r.width,27),u.lineTo(r.width,r.height),u.lineTo(0,r.height),u.closePath(),u.fillStyle=g,u.fill(),f=document.createElement("canvas"),o=document.createElement("div"),o.style.width="130px",o.style.textAlign="center",o.style.fontFamily="Georgia",f.width=129,f.height=43,h=document.getElementById(d),!h)return alert("容器id配置错误"),!1;h.innerHTML="";h.appendChild(f);h.appendChild(o);var l=f.getContext("2d"),v=new Image,y=new Image,p=null;l.globalCompositeOperation="destination-atop";tt=this;v.onload=function(){y.onload=function(){p=window.requestNextAnimationFrame(k)};y.src=nt};v.src=r.toDataURL();var b=-320,a=b,e=n.length,c=0,s=0;w()}},ltLoading2:function(n,t,i){function v(){if(f!==o){var t=new Image;t.onload=function(){h++;f<o-1&&(f++,v());p(h,o)};t.onerror=function(){h++;f<o-1&&(f++,v());p(h,o)};t.src=n[f]}}function p(n,i){n/i>.1&&(y.innerHTML=parseInt(n/i)*100+"%");e.style.width=(s.offsetWidth-85)*(n/i)+"px";n/i>=1&&t&&typeof t=="function"&&t()}function w(n){return document.getElementById(n)}var r=i&&i.id?i.id:"ltLoading",b=i&&typeof i=="object"&&i.src?i.src:"images/lt_loading1.png",c=i&&typeof i=="object"&&i.color?i.color:"#951e23",k="#"+r+"{width: 430px;margin-top:50px;height: 20px;position: relative;border-radius:5px; border:1px solid "+c+";padding: 1px;box-sizing:border-box;}                #"+r+" span{width: 100%;height:100%;background: "+c+";border-radius: 5px;display: inline-block;}                #"+r+" div{width:0;height: 100%;position: absolute;left: 0;top:0;z-index: 1;background: #fff;border-radius: 5px 0 0 5px;text-align: right;line-height: 25px;}                #"+r+" div label{position: relative;top:-3px;color:"+c+"}                #"+r+" div img{position: absolute;top:-40px;}                @media all and (max-width: 480px) {                     #"+r+"{width:100%;}                }",s=w(r),u,e,l,y,a;if(!s)return alert("容器id配置错误"),!1;u=document;s.appendChild(u.createElement("span"));s.appendChild(u.createElement("div"));e=w(r).getElementsByTagName("div")[0];e.appendChild(u.createElement("label"));l=new Image;l.src=b;e.appendChild(l);y=e.getElementsByTagName("label")[0];a=u.createElement("style");u.getElementsByTagName("head")[0].appendChild(a);try{a.innerHTML=k}catch(d){return alert("浏览器不支持此加载特效"),!1}var o=n.length,h=0,f=0;v()},clearCache:function(n){n.addEventListener("updateready",function(){alert(123);n.swapCache();location.href=location.href})},getStyle:function(n,t){return n.currentStyle?n.currentStyle[t]:getComputedStyle(n,!1)[t]},startMove:function(n,t,i,r,u){function s(){return(new Date).getTime()}function h(){var y=s(),v=1-Math.max(0,c-y+i)/i,l,f,a;for(l in t){f=ltTween[r](v*i,parseFloat(e[l]),parseFloat(t[l])-parseFloat(e[l]),i);switch(l.toLowerCase()){case"opacity":n.style.filter="alpha(oapcity="+f+")";n.style.opacity=f/100;break;case"scrollTop":document.body.scrollTop=f;document.documentElement.scrollTop=f;break;case"width":case"height":case"left":case"top":case"bottom":case"right":n.style[l]=t[l].toString().indexOf("%")>-1?f+"%":f+"px";break;case"backgroundposition":n.style[l]=t[l].toString().indexOf("%")>-1?f+"%":f;break;case"transformx":n.setAttribute("transX",f);a="px";t[l].toString().indexOf("%")>-1&&(a="%");o.setCss3(n,{transform:"translateX("+f+""+a+")"});break;case"transformy":n.setAttribute("transY",f);a="px";t[l].toString().indexOf("%")>-1&&(a="%");o.setCss3(n,{transform:"translateY("+f+""+a+")"});break;case"scale":n.setAttribute("scale",f);o.setCss3(n,{transform:"scale("+f+")"})}}v===1?(window.cancelNextAnimationFrame(n.timer),u&&typeof u=="function"&&u.call(n)):n.timer=window.requestNextAnimationFrame(h)}var e={},c=s(),f,o;for(f in t)e[f]=0,e[f]=f==="opacity"?Math.round(this.getStyle(n,f)*100):f==="transformX"?parseFloat(n.getAttribute("transX"))||0:f==="transformY"?parseFloat(n.getAttribute("transY"))||0:f==="scale"?parseFloat(n.getAttribute("scale"))||0:parseInt(this.getStyle(n,f))||0;window.cancelNextAnimationFrame(n.timer);n.timer=window.requestNextAnimationFrame(h);o=this},getXYByElement:function(n){for(var t=0,i=0;n.offsetParent;)t+=n.offsetLeft,i+=n.offsetTop,n=n.offsetParent;return{left:t,top:i}},isWeiXin:function(){var n=window.navigator.userAgent.toLowerCase();return n.match(/MicroMessenger/i)==="micromessenger"},imgLoader:function(n,t,i){function f(){var e=new Image;r++;e.onload=e.onerror=function(){r<u?f():r/u==1&&t&&t();i&&i(r/u)};e.src=n[r-1]}var u=n.length,r=0;f()},shake:function(n,t){function u(u){var f=u.accelerationIncludingGravity,e=(new Date).getTime(),o,s;e-i>100&&(o=e-i,i=e,r=f.x,y=f.y,z=f.z,s=Math.abs(r+y+z-last_x-last_y-last_z)/o*1e4,s>t&&n&&n(),last_x=r,last_y=y,last_z=z)}t=t||1e3;var i=0,r=y=z=last_x=last_y=last_z=0;window.DeviceMotionEvent&&window.addEventListener("devicemotion",u,!1)},isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},styleOnload:function(n,t){function u(n,t){i.attachEvent?i.attachEvent("onload",t):setTimeout(function(){r(i,t)},0)}function r(n,t){if(!t.isCalled){var i=!1;if(/webkit/i.test(navigator.userAgent))n.sheet&&(i=!0);else if(n.sheet)try{n.sheet.cssRules&&(i=!0)}catch(u){u.code===1e3&&(i=!0)}i?setTimeout(function(){t()},1):setTimeout(function(){r(n,t)},1)}}var i=document.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",n);document.body.appendChild(i);u(n,t)},flyParticle:function(n){function f(t,r,f){function o(){for(var o=e.getImageData(0,0,i.width,i.height).data,h=[],n=0,c=0,t=8,r=0;r<o.length;r+=4*t)o[r+3]>0&&h.push(new u({x:n,y:c})),n+=t,n>=i.width&&(n=0,c+=t,r+=t*4*i.width);f&&f(h,s)}var e=i.getContext("2d"),s;i.width=t;i.height=r;switch(n.type){case"image":s=new Image;s.onload=function(){e.drawImage(this,0,0,t,r);o()};s.src=n.aString;break;case"ellipse":e.drawEllipse(0,0,t,r,"fill",n.fillStyle||"red");o();break;case"radius":e.fillStyle=n.fillStyle||"#ccc";e.beginPath();e.arc(t/2,t/2,t/2,0,Math.PI*2,!1);e.closePath();e.fill();o();break;case"rectangular":e.fillStyle=n.fillStyle||"#ccc";e.fillRect(0,0,t,r);o();break;case"text":e.font=" 50px Verdana, Arial, Helvetica, sans-serif";e.textBaseline="top";e.fillStyle="#f90";e.fillText(n.aString,0,0);o()}}function r(t){n.isNeedBackBg&&(t.style.background="#000");t.style.position="absolute";t.style.left=0;t.style.top=0;t.style.WebkitTransition=".8s opacity";t.style.transition=".8s opacity"}var u=function(n){var t=this;t.x=n.x;t.y=n.y},t=document.getElementById(n.canvas),i=document.getElementById(n.canvas1);f(n.w,n.h,function(u){function y(i,r,u,o,h){function c(){var w,b,k;f.clearRect(0,0,t.width,t.height);for(var d=l(),p=1-Math.max(0,v-d+u)/u,y=0;y<a;y++)w=ltTween[o](p*u,parseFloat(i[y].x),parseFloat(r[y].x)-parseFloat(i[y].x),u),b=ltTween[o](p*u,parseFloat(i[y].y),parseFloat(r[y].y)-parseFloat(i[y].y),u),k=n.pointsStyle instanceof Array?n.pointsStyle[e.ceil(e.random()*n.pointsStyle.length-1)]:n.pointsStyle,f.fillStyle=k,f.beginPath(),f.arc(w,b,e.random()*2,0,e.PI*2,!1),f.closePath(),f.fill();p>.8&&(h&&h(),h=null);p===1?window.cancelNextAnimationFrame(s):s=window.requestNextAnimationFrame(c)}function l(){return(new Date).getTime()}var a=r.length,v=l();s=window.requestNextAnimationFrame(c)}function h(n,t){return n+Math.floor(Math.random()*(t-n+1))}var o,v,s;t.style.opacity=1;t.width=n.w;t.height=n.h;r(t);r(i);var f=t.getContext("2d"),c=[],e=Math;for(o=0;o<u.length;o++){var p=h(-5,5),l=u[o].x+h(-2,2)*t.width,a=u[o].y+h(-2,2)*t.height;c.push({x:l,y:a});v=n.pointsStyle instanceof Array?n.pointsStyle[e.ceil(e.random()*n.pointsStyle.length-1)]:n.pointsStyle;f.fillStyle=v;f.beginPath();f.arc(l,a,e.random(),0,e.PI*2,!1);f.closePath();f.fill()}s=null;y(c,u,n.duration||800,"easeOut",function(){i.style.opacity=1;t.style.opacity=0;n.complate&&n.complate()})})}};return Array.prototype.unique=function(){for(var t=[],i={},n=0;n<this.length;n++)i[this[n]]||(t.push(this[n]),i[this[n]]=1);return t},Array.prototype.clear=function(){this.length=0},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},!function(n){var t={linear:function(n,t,i,r){return i*n/r+t},easeIn:function(n,t,i,r){return i*(n/=r)*n+t},easeOut:function(n,t,i,r){return-i*(n/=r)*(n-2)+t},easeBoth:function(n,t,i,r){return(n/=r/2)<1?i/2*n*n+t:-i/2*(--n*(n-2)-1)+t},easeInStrong:function(n,t,i,r){return i*(n/=r)*n*n*n+t},easeOutStrong:function(n,t,i,r){return-i*((n=n/r-1)*n*n*n-1)+t},easeBothStrong:function(n,t,i,r){return(n/=r/2)<1?i/2*n*n*n*n+t:-i/2*((n-=2)*n*n*n-2)+t},elasticIn:function(n,t,i,r,u,f){var e;return n===0?t:(n/=r)==1?t+i:(f||(f=r*.3),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),-(u*Math.pow(2,10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f))+t)},elasticOut:function(n,t,i,r,u,f){var e;return n===0?t:(n/=r)==1?t+i:(f||(f=r*.3),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),u*Math.pow(2,-10*n)*Math.sin((n*r-e)*2*Math.PI/f)+i+t)},elasticBoth:function(n,t,i,r,u,f){var e;return n===0?t:(n/=r/2)==2?t+i:(f||(f=r*.3*1.5),!u||u<Math.abs(i)?(u=i,e=f/4):e=f/(2*Math.PI)*Math.asin(i/u),n<1)?-.5*u*Math.pow(2,10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f)+t:u*Math.pow(2,-10*(n-=1))*Math.sin((n*r-e)*2*Math.PI/f)*.5+i+t},backIn:function(n,t,i,r,u){return typeof u=="undefined"&&(u=1.70158),i*(n/=r)*n*((u+1)*n-u)+t},backOut:function(n,t,i,r,u){return typeof u=="undefined"&&(u=3.70158),i*((n=n/r-1)*n*((u+1)*n+u)+1)+t},backBoth:function(n,t,i,r,u){return(typeof u=="undefined"&&(u=1.70158),(n/=r/2)<1)?i/2*n*n*(((u*=1.525)+1)*n-u)+t:i/2*((n-=2)*n*(((u*=1.525)+1)*n+u)+2)+t},bounceIn:function(n,i,r,u){return r-t.bounceOut(u-n,0,r,u)+i},bounceOut:function(n,t,i,r){return(n/=r)<1/2.75?i*7.5625*n*n+t:n<2/2.75?i*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?i*(7.5625*(n-=2.25/2.75)*n+.9375)+t:i*(7.5625*(n-=2.625/2.75)*n+.984375)+t},bounceBoth:function(n,i,r,u){return n<u/2?t.bounceIn(n*2,0,r,u)*.5+i:t.bounceOut(n*2-u,0,r,u)*.5+r*.5+i}};n.ltTween=t}(window),n});
//# sourceMappingURL=flyutil.min.js.map
